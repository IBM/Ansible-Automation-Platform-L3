{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Acknowledgements Special thanks to Stephan Navarro for authoring the original version of this hands-on lab, \"Deploying WebSphere Application Server on AIX using Ansible Automation\" for IBM Client Engineering for Systems (Montpellier). In addition to the embedded video, IBMers and Business Partners can also download the recording from Seismic . Automation of nearly any infrastructure endpoint with minimal amounts of code has immense practical value to a world increasingly dependent on clouds operated by different vendors, in varying countries, across multiple premises. Furthermore, these automation capabilities translate to a number of benefits for you and your business: reduced storage and resource burden placed on the machines to be automated; a much smaller footprint on these endpoints that could be hacked or exploited by malicious users; and most importantly, a greatly simplified approach to automation. Likewise, as environments change and operating systems advance over time, the automation jobs underway can be easily modified in lockstep as well. Adaptability and extensibility are key ingredients in the longevity of any technology \u2014 and fortunately the automation tooling for the hybrid multicloud era has those in abundance. Red Hat Ansible Automation Platform (AAP) commodifies the automation of everything else that applications, services, and containers need to run upon. That may include infrastructure provisioning, server deployments, IoT edge devices, script execution, and lots of other things that operations teams spend their time doing to \u201ckeep the lights on.\u201d It makes automation available to everyone with the lightest touch of human-readable snippets of code. More importantly to us, it makes automation of nearly everything needed to deliver the capabilities of the cloud possible, regardless of the destination. Who uses AAP today? Many different and potentially siloed personas: IT Operators : These include automation administrators responsible for ensuring that the automation platform is available to developers and implementors upstream within the organization. These individuals are generally concerned with the uptime of the automation platform, as any interruptions to service availability can directly impact upstream users. Platform Developers : These individuals are the automation \"plumbers\" who ensure that endpoints are viable for automation. Tasks and responsibilities include maintaining the AAP modules, plugins, and the Roles (content) to be used by platform users. They are the domain experts that are coding up collections which can later be extended or consumed by the end-users of the automation jobs. Platform Users : These are the automation \"writers,\" stitching together each automation task\u2014 Play by Play, task by task \u2014using content generated by the Platform Developers within their Playbooks. Essentially, this is configuration management applied to the management of IT estates. Instead of having a hardcoded script that instructs exactly how to move from task A to task B, you\u2019re creating a Playbook that lays out the expected end state and asks Ansible to figure out the delta between the current and end state. But critically, Ansible will not move on to task B until all of the conditions required by task A have been satisfied. This is not only invaluable for debugging purposes; it also guarantees a consistency and predictability in how Ansible's automation tasks will be performed \u2014 something that you will come to keenly appreciate throughout the course of this hands-on material, as we incrementally add more tasks and automation jobs to Ansible Playbooks for execution. Together, these qualities have two profound implications for Ansible clients. First, it removes any ambiguity from the automation process (Ansible will execute your instructions in exactly the order you\u2019ve assigned). Second, it places the burden of deciding how to achieve the end states of tasks A and B on the automation engine itself, rather than requiring the user to explicitly define all the gory details themselves. When automation is made available to everyone, it becomes possible to automate everything. The series of hands-on tutorials and learning modules embedded in this Level 3 course are designed to provide IBM Sellers, IBM Technical Sellers, and Business Partners with the fluency to gain trusted advisor status with clients and the expertise to tailor live technological demonstrations for customers. / * CHANGE THIS SECTION / In Red Hat Ansible Automation Platform Level 3 for Sales and Technical Sales, you will utilize AAP in conjunction with IBM Power Systems infrastructure (PowerVC) to generate an IBM AIX-based virtual machine; subsequently, Ansible automation will be used to install and deploy a live WebSphere Application Server instance inside of the virtual machine. The various ways in which Ansible's automation can also be applied to operational and administrative tasks\u2014 such as modifying root user characteristics, setting filesystem sizes, installing pre-requisites drivers and libraries, as well as software deployments \u2014will also be explored. / CHANGE THIS SECTION */ All modules are accompanied by recordings and narrated instructions, delivered by your team of authors. Be sure to watch these for a visual demonstration of how to perform the hands-on lab components. In particular, it is strongly recommended that IBM Sellers and Technical Sellers watch these recordings \u2014 they will be useful for you as you go about creating and recording your own Stand & Deliver presentations for Level 3 accreditation. Note To receive Level 3 accreditation, IBMers and Business Partners must demonstrate mastery of the skills learned throughout the various modules of these hands-on labs and coursework. Level 3 accreditation requirements\u2014 and the way participants will be evaluated before receiving accreditation \u2014differs depending on job role. Business Partners must pass an accreditation quiz after completing the hands-on portion of the course. The quiz consists of multiple choice questions, with four possible responses (and only one correct answer) for each question. IBM Sales and Technical Sales must develop and record a Stand & Deliver presentation. This video is intended to simulate your delivery of a \u201clive\u201d demo in front of a client \u2014 on camera. IBMers will have flexibility in defining a hypothetical client, the pain points that customer has, and the goals they aspire to achieve. The recording will then cover the seller\u2019s hands-on demonstration and pitch to the client of the value of the IBM solution using the environments and techniques of this lab. Specific criteria that must be demonstrated as part of the Stand & Deliver recordings is provided within the documentation that accompanies the Level 3 course.","title":"Introduction"},{"location":"#_1","text":"","title":""},{"location":"#red-hat-ansible-automation-platform-aap-commodifies-the-automation-of-everything-else-that-applications-services-and-containers-need-to-run-upon","text":"That may include infrastructure provisioning, server deployments, IoT edge devices, script execution, and lots of other things that operations teams spend their time doing to \u201ckeep the lights on.\u201d It makes automation available to everyone with the lightest touch of human-readable snippets of code. More importantly to us, it makes automation of nearly everything needed to deliver the capabilities of the cloud possible, regardless of the destination. Who uses AAP today? Many different and potentially siloed personas: IT Operators : These include automation administrators responsible for ensuring that the automation platform is available to developers and implementors upstream within the organization. These individuals are generally concerned with the uptime of the automation platform, as any interruptions to service availability can directly impact upstream users. Platform Developers : These individuals are the automation \"plumbers\" who ensure that endpoints are viable for automation. Tasks and responsibilities include maintaining the AAP modules, plugins, and the Roles (content) to be used by platform users. They are the domain experts that are coding up collections which can later be extended or consumed by the end-users of the automation jobs. Platform Users : These are the automation \"writers,\" stitching together each automation task\u2014 Play by Play, task by task \u2014using content generated by the Platform Developers within their Playbooks. Essentially, this is configuration management applied to the management of IT estates. Instead of having a hardcoded script that instructs exactly how to move from task A to task B, you\u2019re creating a Playbook that lays out the expected end state and asks Ansible to figure out the delta between the current and end state. But critically, Ansible will not move on to task B until all of the conditions required by task A have been satisfied. This is not only invaluable for debugging purposes; it also guarantees a consistency and predictability in how Ansible's automation tasks will be performed \u2014 something that you will come to keenly appreciate throughout the course of this hands-on material, as we incrementally add more tasks and automation jobs to Ansible Playbooks for execution. Together, these qualities have two profound implications for Ansible clients. First, it removes any ambiguity from the automation process (Ansible will execute your instructions in exactly the order you\u2019ve assigned). Second, it places the burden of deciding how to achieve the end states of tasks A and B on the automation engine itself, rather than requiring the user to explicitly define all the gory details themselves.","title":"Red Hat Ansible Automation Platform (AAP) commodifies the automation of everything else that applications, services, and containers need to run upon."},{"location":"#_2","text":"","title":""},{"location":"#when-automation-is-made-available-to-everyone-it-becomes-possible-to-automate-everything","text":"The series of hands-on tutorials and learning modules embedded in this Level 3 course are designed to provide IBM Sellers, IBM Technical Sellers, and Business Partners with the fluency to gain trusted advisor status with clients and the expertise to tailor live technological demonstrations for customers. / * CHANGE THIS SECTION / In Red Hat Ansible Automation Platform Level 3 for Sales and Technical Sales, you will utilize AAP in conjunction with IBM Power Systems infrastructure (PowerVC) to generate an IBM AIX-based virtual machine; subsequently, Ansible automation will be used to install and deploy a live WebSphere Application Server instance inside of the virtual machine. The various ways in which Ansible's automation can also be applied to operational and administrative tasks\u2014 such as modifying root user characteristics, setting filesystem sizes, installing pre-requisites drivers and libraries, as well as software deployments \u2014will also be explored. / CHANGE THIS SECTION */ All modules are accompanied by recordings and narrated instructions, delivered by your team of authors. Be sure to watch these for a visual demonstration of how to perform the hands-on lab components. In particular, it is strongly recommended that IBM Sellers and Technical Sellers watch these recordings \u2014 they will be useful for you as you go about creating and recording your own Stand & Deliver presentations for Level 3 accreditation. Note To receive Level 3 accreditation, IBMers and Business Partners must demonstrate mastery of the skills learned throughout the various modules of these hands-on labs and coursework. Level 3 accreditation requirements\u2014 and the way participants will be evaluated before receiving accreditation \u2014differs depending on job role. Business Partners must pass an accreditation quiz after completing the hands-on portion of the course. The quiz consists of multiple choice questions, with four possible responses (and only one correct answer) for each question. IBM Sales and Technical Sales must develop and record a Stand & Deliver presentation. This video is intended to simulate your delivery of a \u201clive\u201d demo in front of a client \u2014 on camera. IBMers will have flexibility in defining a hypothetical client, the pain points that customer has, and the goals they aspire to achieve. The recording will then cover the seller\u2019s hands-on demonstration and pitch to the client of the value of the IBM solution using the environments and techniques of this lab. Specific criteria that must be demonstrated as part of the Stand & Deliver recordings is provided within the documentation that accompanies the Level 3 course.","title":"When automation is made available to everyone, it becomes possible to automate everything."},{"location":"Part%201/01%20Getting%20Started/","text":"Ways to Watch In addition to the embedded video, IBMers and Business Partners can also download the recording from Seismic . You will require access to the IBM Technology Zone (ITZ) in order to reserve your environment and complete the hands-on training. If you do not yet have access or an account with the ITZ, you may register for one by visiting the following page: https://techzone.ibm.com The hands-on environment can be provisioned free-of-charge using the reservation portal: https://techzone.ibm.com/my/reservations/create/61aa2c69a5295f00185b77b2 Alternatively, you can provision the environment by navigating to the following ITZ Collection ( https://techzone.ibm.com/collection/ansible-hands-on-power ) and scrolling down until you locate the Environments \u2014 \"Click here to get your hands on lab\" tab. Clicking the blue \"Reserve\" tile will navigate your browser window to the same reservation panel as the link above. In order to complete your reservation of the PowerVC infrastructure with AAP pre-installed, you must fill out the following information: Name : Give your reservation a unique name. Purpose : Set to Practice / Self-Education Purpose Description : Provide a brief summary of how the environment will be used. Preferred Geography : Montpellier, France Start Date & Time : Select the time and date for when you plan to complete the hands-on material. End Date & Time : Select a time and date no more than 4 hours later than the Start Time. The environment has been capped at 4 hours, after which it will expire and de-provision. Note Four hours is more than enough time to complete the hands-on portion of the course work. Make sure you reserve for a period where you can give the lab 4 uninterrupted hours of your time \u2014 should you require additional time, you can reserve the lab again, but your progress from the previous attempt will be reset. When satisfied, click the Check Availability button at the bottom of the page to verify that resources are available for your requested time slot. If the check passes, you can finalize your reservation request by clicking Submit . Reservations take approximately 10-15 minutes to complete from the time that you click submit. If you navigate to the My Reservations tab of the ITZ ( https://techzone.ibm.com/my/reservations ), you can monitor the progress of your reservation. Wait until the environment tile describes the instance as \" Ready \" \u2014 accessing it too soon will lead to issues (or an outright failure) when connecting to the PowerVC instance. You will also receive a pair of emails to your inbox once the environment has successfully deployed, as shown here. The \"Demo Ready Notification\" email contains an important link (\"Click Here\") for accessing your Project Kit , which will be needed to obtain information about your PowerVC environment \u2014 hostname, address, login information, and so on. Click that link now to load the Project Kit in your browser window. The second \"Demo VPN Ready Notification\" email is our next order of business. You will need to configure a special VPN tunnel in order to connect to the demo PowerVC environment. Warning This is different from the VPN access you may be using to connect to the IBM intranet and network. All participants must follow the instructions outlined below in order to connect to the environment. Without the correct VPN setup, you will be unable to SSH or remotely connect to the PowerVC instance. From the \"Demo VPN Ready Notification\" email, locate the \"Click Here\" hyperlink to download your OpenVPN certificate , which is unique to your account and environment. This certificate will only need to be downloaded and set up once; in the event that you need to re-provision a new environment at a later time, it won't be necessary to repeat these steps. Further down in the email are three links for setting up OpenVPN, for each of the major operating systems: Windows, Linux, and MacOS. Note It is recommended that you use Tunnelblick if using running MacOS, but you have the option of using other OpenVPN clients if you prefer. Select the option that matches your machine's operating system. Follow the instructions to install OpenVPN on your machine and use the OpenVPN certificate (linked from the same email) to establish the connection. Once installed and setup, OpenVPN will allow you to establish a private VPN tunnel to your PowerVC environment. Click the \"Connect\" button (or similar \u2014 the screenshots provided here are for Tunnelblick on MacOS). You can disregard warnings or errors that the application may throw. After connecting, you will be able to access the PowerVC GUI and SSH remotely into your PowerVC environment, which we will cover next. After connecting to the VPN tunnel, return to the \"Demo Ready Notification\" email (or the My Reservations tab on the ITZ) and follow the URL to your unique Project Kit page, similar to the one captured here. The Project Kit summarizes all of the relevant connection information you will need to access your PowerVC and Ansible environment. Scroll down the page until you reach the Usage Instructions table near the bottom of the page. The table contains two relevant rows: the first row \"PowerVC GUI\" contains information on how to connect to the PowerVC infrastructure; the second row \"Ansible ssh console\" details how to remotely connect to Ansible via SSH. You will be making use of both endpoints throughout the lab. As such, it's recommended that you copy the URLs for both the GUI and Ansible endpoints (note that they have different host addresses), as well as the userID and password values (they are identical across both environments). Let's try connecting remotely over SSH to the Ansible environment. Make sure that your OpenVPN connection is active, otherwise the connection attempt will timeout. To connect via SSH, it is recommended that you use Terminal (MacOS) or PuTTY (Windows). Note For detailed instructions on how to connect with PuTTY on Windows, reference the linked material. Connect via SSH using the following command: ssh userID@ansibleURL Replace the userID value with the one in the third column of the Project Kit table. Replace the ansibleURL with the URL in the second row + second column of the Project Kit table (for example, 10.3.44.171 in the screenshot provided\u2014 use the value unique to your project ). You will be prompted to provide a password : supply the value with the fourth column of the Project Kit table. Hit Return and wait for the connection to complete. If successful, your console will now be connected directly to the Ansible controller node! Test out the connection with the following command: pwd Then check to see which version of Ansible the controller node is currently running: ansible --version Everything's now set and in good shape for you to get to work on deploying your first virtual machine via Ansible on to the PowerVC infrastructure.","title":"Getting Started"},{"location":"Part%202/01%20Deploy%20a%20VM/","text":"Ways to Watch In addition to the embedded video, IBMers and Business Partners can also download the recording from Seismic . Ansible, and in particular YAML (Yet Another Markup Language), is very particular about indentation and formatting \u2014 something as trivial as an extra whitespace or an incorrectly-indented line of code can cause the interpreter to parse the instructions differently, resulting in outcomes you may not desire. To streamline the lab as much as possible, a Git repository was created ahead of time with large portions of the Ansible scripts and constructs prepared ahead of time. You will still need to edit elements in each of these files, and the instructions to follow will guide you step by step (as though you were creating these documents from scratch yourself), but it's worth noting that by cloning the Git repository you will be saving yourself a lot of extra typing (and potential debugging). Everything is documented for you\u2014 so you can go about creating all of these documents and scripts from scratch, if you wish. If you are a SELLER , it is strongly recommend that you clone the Git repository, as it will save you time and keystrokes. If you are a TECHNICAL SELLER , it is recommended that you take the time to craft these files from scratch yourself and that you do not clone the Git repository (skip the next two steps). SELLERS Submit the following instruction to clone the prepared Git repository into your Ansible controller node: git clone --branch hybridcloudevent https://github.com/stephannavarro/ansiblewas.git TECHNICAL SELLERS You will need to manually create the ansiblewas directory yourself before continuing. This step was automatically performed for Sellers when they cloned the Git repository. You can do so by issuing the following: mkdir ansiblewas Continue through the remainder of the instructions regardless of your job role. After the clone action has been completed, navigate to the newly-created ansiblewas directory. cd ansiblewas The next order of business is configuring the Ansible controller node (to which you are currently connected) with details about our PowerVC environment and how our project directories are organized. This can be done by modifying the ansible.cfg configuration file: vi ansible.cfg Note Throughout this lab, you will make extensive use of the VI text editor. If you're not familiar with this editor, you can quickly get up to speed using the following cheat sheet: https://www.cse.scu.edu/~yfang/coen11/vi-CheatSheet.pdf for reference. As a quick primer on how to use the VI editor: Navigate using the up/down and left/right arrows keys. Hover the blinking indicator over the point in the text you wish to modify. To start adding or deleting text, first press the I (as in \"indigo\") key. Then either start adding text as normal (you can also paste lines of code that you have copied to your clipboard using CTRL+V) or deleting text using backspace. Save your changes and exit a file by first pressing the ESC key, then typing :x (the full colon must come first) and hitting return. If you want to exit a file without saving changes, press ESC and type :quit! (with the exclamation point included at the end). Other shortcuts and commands are detailed in the cheat sheet linked above. Within the configuration file, you will see three values of note: inventory , remote_tmp , and host_key_checking . Their respective purposes are as follows: inventory will instruct Ansible on which directory the host file should be defined (we will be modifying this file shortly). remote_tmp instructs which directory to use on the remote system (needed by the AIX operating system). host_key_checking tells SSH to accept remote keys (which will streamline the lab for us later). The ansible.cfg definition is provided below for those who are crafting these files from scratch (instead of using the cloned Git repository). You do not need to make any modification to the ansible.cfg file. Use the ESC + :quit! command in the VI editor to exit the file without making changes. [defaults] inventory = ./hosts remote_tmp = /tmp host_key_checking = False We are now ready to install the Ansible OpenStack Python modules on to the Ansible controller node. The openstacksdk library is required in order for Ansible to be able to interact with the PowerVC infrastructure provisioned via the ITZ. The following command will take care of installing all of the necessary drivers and dependencies: pip3 install --user \"openstacksdk==0.51.0\" \"python-openstackclient==5.4.0\" dnspython dig With the dependencies taken care of, we're now ready to begin deployment of an AIX operating system partition atop of the PowerVC infrastructure provisioned earlier.","title":"Deploy a Virtual Machine"},{"location":"Part%202/01%20Deploy%20a%20VM/#_1","text":"","title":""},{"location":"Part%202/01%20Deploy%20a%20VM/#if-you-are-a-seller-it-is-strongly-recommend-that-you-clone-the-git-repository-as-it-will-save-you-time-and-keystrokes","text":"","title":"If you are a SELLER, it is strongly recommend that you clone the Git repository, as it will save you time and keystrokes."},{"location":"Part%202/01%20Deploy%20a%20VM/#if-you-are-a-technical-seller-it-is-recommended-that-you-take-the-time-to-craft-these-files-from-scratch-yourself-and-that-you-do-not-clone-the-git-repository-skip-the-next-two-steps","text":"SELLERS Submit the following instruction to clone the prepared Git repository into your Ansible controller node: git clone --branch hybridcloudevent https://github.com/stephannavarro/ansiblewas.git TECHNICAL SELLERS You will need to manually create the ansiblewas directory yourself before continuing. This step was automatically performed for Sellers when they cloned the Git repository. You can do so by issuing the following: mkdir ansiblewas Continue through the remainder of the instructions regardless of your job role. After the clone action has been completed, navigate to the newly-created ansiblewas directory. cd ansiblewas The next order of business is configuring the Ansible controller node (to which you are currently connected) with details about our PowerVC environment and how our project directories are organized. This can be done by modifying the ansible.cfg configuration file: vi ansible.cfg Note Throughout this lab, you will make extensive use of the VI text editor. If you're not familiar with this editor, you can quickly get up to speed using the following cheat sheet: https://www.cse.scu.edu/~yfang/coen11/vi-CheatSheet.pdf for reference. As a quick primer on how to use the VI editor: Navigate using the up/down and left/right arrows keys. Hover the blinking indicator over the point in the text you wish to modify. To start adding or deleting text, first press the I (as in \"indigo\") key. Then either start adding text as normal (you can also paste lines of code that you have copied to your clipboard using CTRL+V) or deleting text using backspace. Save your changes and exit a file by first pressing the ESC key, then typing :x (the full colon must come first) and hitting return. If you want to exit a file without saving changes, press ESC and type :quit! (with the exclamation point included at the end). Other shortcuts and commands are detailed in the cheat sheet linked above. Within the configuration file, you will see three values of note: inventory , remote_tmp , and host_key_checking . Their respective purposes are as follows: inventory will instruct Ansible on which directory the host file should be defined (we will be modifying this file shortly). remote_tmp instructs which directory to use on the remote system (needed by the AIX operating system). host_key_checking tells SSH to accept remote keys (which will streamline the lab for us later). The ansible.cfg definition is provided below for those who are crafting these files from scratch (instead of using the cloned Git repository). You do not need to make any modification to the ansible.cfg file. Use the ESC + :quit! command in the VI editor to exit the file without making changes. [defaults] inventory = ./hosts remote_tmp = /tmp host_key_checking = False We are now ready to install the Ansible OpenStack Python modules on to the Ansible controller node. The openstacksdk library is required in order for Ansible to be able to interact with the PowerVC infrastructure provisioned via the ITZ. The following command will take care of installing all of the necessary drivers and dependencies: pip3 install --user \"openstacksdk==0.51.0\" \"python-openstackclient==5.4.0\" dnspython dig With the dependencies taken care of, we're now ready to begin deployment of an AIX operating system partition atop of the PowerVC infrastructure provisioned earlier.","title":"If you are a TECHNICAL SELLER, it is recommended that you take the time to craft these files from scratch yourself and that you do not clone the Git repository (skip the next two steps)."},{"location":"Part%202/02%20Deploy%20an%20AIX%20Partition/","text":"Macro Rendering Error UndefinedError : 'vm' is undefined Traceback (most recent call last): File \"/opt/homebrew/lib/python3.9/site-packages/mkdocs_macros/plugin.py\", line 480, in render return md_template.render(**page_variables) File \"/opt/homebrew/lib/python3.9/site-packages/jinja2/environment.py\", line 1301, in render self.environment.handle_exception() File \"/opt/homebrew/lib/python3.9/site-packages/jinja2/environment.py\", line 936, in handle_exception raise rewrite_traceback_stack(source=source) File \"<template>\", line 97, in top-level template code File \"/opt/homebrew/lib/python3.9/site-packages/jinja2/environment.py\", line 485, in getattr return getattr(obj, attribute) jinja2.exceptions.UndefinedError: 'vm' is undefined","title":"Deploy an AIX Partition using PowerVC"},{"location":"Part%202/02%20Deploy%20an%20AIX%20Partition/#macro-rendering-error","text":"UndefinedError : 'vm' is undefined Traceback (most recent call last): File \"/opt/homebrew/lib/python3.9/site-packages/mkdocs_macros/plugin.py\", line 480, in render return md_template.render(**page_variables) File \"/opt/homebrew/lib/python3.9/site-packages/jinja2/environment.py\", line 1301, in render self.environment.handle_exception() File \"/opt/homebrew/lib/python3.9/site-packages/jinja2/environment.py\", line 936, in handle_exception raise rewrite_traceback_stack(source=source) File \"<template>\", line 97, in top-level template code File \"/opt/homebrew/lib/python3.9/site-packages/jinja2/environment.py\", line 485, in getattr return getattr(obj, attribute) jinja2.exceptions.UndefinedError: 'vm' is undefined","title":"Macro Rendering Error"}]}